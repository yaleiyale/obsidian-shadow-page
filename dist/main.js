var Gu=Object.create;var Mt=Object.defineProperty;var Ju=Object.getOwnPropertyDescriptor;var Qu=Object.getOwnPropertyNames;var Ku=Object.getPrototypeOf,Xu=Object.prototype.hasOwnProperty;var Yr=t=>Mt(t,"__esModule",{value:!0});var es=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ts=(t,e)=>{Yr(t);for(var r in e)Mt(t,r,{get:e[r],enumerable:!0})},rs=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qu(e))!Xu.call(t,n)&&n!=="default"&&Mt(t,n,{get:()=>e[n],enumerable:!(r=Ju(e,n))||r.enumerable});return t},Le=t=>rs(Yr(Mt(t!=null?Gu(Ku(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Nu=es(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});require("obsidian");var Oe=class extends Error{},Gr=class extends Oe{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Jr=class extends Oe{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Qr=class extends Oe{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},qe=class extends Oe{},nr=class extends Oe{constructor(e){super(`Invalid unit ${e}`)}},te=class extends Oe{},ve=class extends Oe{constructor(){super("Zone is an abstract class")}},g="numeric",ae="short",re="long",At={year:g,month:g,day:g},Kr={year:g,month:ae,day:g},ns={year:g,month:ae,day:g,weekday:ae},Xr={year:g,month:re,day:g},en={year:g,month:re,day:g,weekday:re},tn={hour:g,minute:g},rn={hour:g,minute:g,second:g},nn={hour:g,minute:g,second:g,timeZoneName:ae},un={hour:g,minute:g,second:g,timeZoneName:re},sn={hour:g,minute:g,hourCycle:"h23"},an={hour:g,minute:g,second:g,hourCycle:"h23"},on={hour:g,minute:g,second:g,hourCycle:"h23",timeZoneName:ae},ln={hour:g,minute:g,second:g,hourCycle:"h23",timeZoneName:re},cn={year:g,month:g,day:g,hour:g,minute:g},Dn={year:g,month:g,day:g,hour:g,minute:g,second:g},fn={year:g,month:ae,day:g,hour:g,minute:g},dn={year:g,month:ae,day:g,hour:g,minute:g,second:g},us={year:g,month:ae,day:g,weekday:ae,hour:g,minute:g},hn={year:g,month:re,day:g,hour:g,minute:g,timeZoneName:ae},mn={year:g,month:re,day:g,hour:g,minute:g,second:g,timeZoneName:ae},pn={year:g,month:re,day:g,weekday:re,hour:g,minute:g,timeZoneName:re},Fn={year:g,month:re,day:g,weekday:re,hour:g,minute:g,second:g,timeZoneName:re},He=class{get type(){throw new ve}get name(){throw new ve}get ianaName(){return this.name}get isUniversal(){throw new ve}offsetName(e,r){throw new ve}formatOffset(e,r){throw new ve}offset(e){throw new ve}equals(e){throw new ve}get isValid(){throw new ve}},ur=null,ct=class extends He{static get instance(){return ur===null&&(ur=new ct),ur}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return An(e,r,n)}formatOffset(e,r){return ht(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Nt={};function ss(t){return Nt[t]||(Nt[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Nt[t]}var is={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function as(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,u,s,i,c,f,d,C]=n;return[i,u,s,c,f,d,C]}function os(t,e){let r=t.formatToParts(e),n=[];for(let u=0;u<r.length;u++){let{type:s,value:i}=r[u],c=is[s];s==="era"?n[c]=i:M(c)||(n[c]=parseInt(i,10))}return n}var It={},me=class extends He{static create(e){return It[e]||(It[e]=new me(e)),It[e]}static resetCache(){It={},Nt={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super();this.zoneName=e,this.valid=me.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return An(e,r,n,this.name)}formatOffset(e,r){return ht(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=ss(this.name),[u,s,i,c,f,d,C]=n.formatToParts?os(n,r):as(n,r);c==="BC"&&(u=-Math.abs(u)+1);let x=fr({year:u,month:s,day:i,hour:f===24?0:f,minute:d,second:C,millisecond:0}),w=+r,B=w%1e3;return w-=B>=0?B:1e3+B,(x-w)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},yn={};function ls(t,e={}){let r=JSON.stringify([t,e]),n=yn[r];return n||(n=new Intl.ListFormat(t,e),yn[r]=n),n}var sr={};function ir(t,e={}){let r=JSON.stringify([t,e]),n=sr[r];return n||(n=new Intl.DateTimeFormat(t,e),sr[r]=n),n}var ar={};function cs(t,e={}){let r=JSON.stringify([t,e]),n=ar[r];return n||(n=new Intl.NumberFormat(t,e),ar[r]=n),n}var or={};function Ds(t,e={}){let{base:r,...n}=e,u=JSON.stringify([t,n]),s=or[u];return s||(s=new Intl.RelativeTimeFormat(t,e),or[u]=s),s}var Dt=null;function fs(){return Dt||(Dt=new Intl.DateTimeFormat().resolvedOptions().locale,Dt)}function ds(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,u;try{n=ir(t).resolvedOptions(),u=t}catch(c){let f=t.substring(0,r);n=ir(f).resolvedOptions(),u=f}let{numberingSystem:s,calendar:i}=n;return[u,s,i]}}function hs(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function ms(t){let e=[];for(let r=1;r<=12;r++){let n=v.utc(2016,r,1);e.push(t(n))}return e}function ps(t){let e=[];for(let r=1;r<=7;r++){let n=v.utc(2016,11,13+r);e.push(t(n))}return e}function Lt(t,e,r,n,u){let s=t.listingMode(r);return s==="error"?null:s==="en"?n(e):u(e)}function Fs(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var gn=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:u,floor:s,...i}=n;if(!r||Object.keys(i).length>0){let c={useGrouping:!1,...n};n.padTo>0&&(c.minimumIntegerDigits=n.padTo),this.inf=cs(e,c)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Dr(e,3);return U(r,this.padTo)}}},En=class{constructor(e,r,n){this.opts=n;let u;if(e.zone.isUniversal){let i=-1*(e.offset/60),c=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;e.offset!==0&&me.create(c).valid?(u=c,this.dt=e):(u="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:v.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,u=e.zone.name);let s={...this.opts};s.timeZone=s.timeZone||u,this.dtf=ir(r,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Cn=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&kn()&&(this.rtf=Ds(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Ns(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},L=class{static fromOpts(e){return L.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,u=!1){let s=e||W.defaultLocale,i=s||(u?"en-US":fs()),c=r||W.defaultNumberingSystem,f=n||W.defaultOutputCalendar;return new L(i,c,f,s)}static resetCache(){Dt=null,sr={},ar={},or={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return L.create(e,r,n)}constructor(e,r,n,u){let[s,i,c]=ds(e);this.locale=s,this.numberingSystem=r||i||null,this.outputCalendar=n||c||null,this.intl=hs(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Fs(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:L.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1,n=!0){return Lt(this,e,n,Ln,()=>{let u=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=ms(i=>this.extract(i,u,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1,n=!0){return Lt(this,e,n,jn,()=>{let u=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=ps(i=>this.extract(i,u,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return Lt(this,void 0,e,()=>Pn,()=>{if(!this.meridiemCache){let r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[v.utc(2016,11,13,9),v.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return Lt(this,e,r,Wn,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[v.utc(-40,1,1),v.utc(2017,1,1)].map(u=>this.extract(u,n,"era"))),this.eraCache[e]})}extract(e,r,n){let u=this.dtFormatter(e,r),s=u.formatToParts(),i=s.find(c=>c.type.toLowerCase()===n);return i?i.value:null}numberFormatter(e={}){return new gn(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new En(e,this.intl,r)}relFormatter(e={}){return new Cn(this.intl,this.isEnglish(),e)}listFormatter(e={}){return ls(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},lr=null,Y=class extends He{static get utcInstance(){return lr===null&&(lr=new Y(0)),lr}static instance(e){return e===0?Y.utcInstance:new Y(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Y(Pt(r[1],r[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ht(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${ht(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return ht(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},wn=class extends He{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Te(t,e){if(M(t)||t===null)return e;if(t instanceof He)return t;if(ys(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?ct.instance:r==="utc"||r==="gmt"?Y.utcInstance:Y.parseSpecifier(r)||me.create(t)}else return _e(t)?Y.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new wn(t)}var xn=()=>Date.now(),vn="system",bn=null,On=null,Tn=null,Sn=60,Bn,W=class{static get now(){return xn}static set now(e){xn=e}static set defaultZone(e){vn=e}static get defaultZone(){return Te(vn,ct.instance)}static get defaultLocale(){return bn}static set defaultLocale(e){bn=e}static get defaultNumberingSystem(){return On}static set defaultNumberingSystem(e){On=e}static get defaultOutputCalendar(){return Tn}static set defaultOutputCalendar(e){Tn=e}static get twoDigitCutoffYear(){return Sn}static set twoDigitCutoffYear(e){Sn=e%100}static get throwOnInvalid(){return Bn}static set throwOnInvalid(e){Bn=e}static resetCaches(){L.resetCache(),me.resetCache()}};function M(t){return typeof t=="undefined"}function _e(t){return typeof t=="number"}function _t(t){return typeof t=="number"&&t%1==0}function ys(t){return typeof t=="string"}function gs(t){return Object.prototype.toString.call(t)==="[object Date]"}function kn(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Es(t){return Array.isArray(t)?t:[t]}function Mn(t,e,r){if(t.length!==0)return t.reduce((n,u)=>{let s=[e(u),u];return n&&r(n[0],s[0])===n[0]?n:s},null)[1]}function Cs(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function be(t,e,r){return _t(t)&&t>=e&&t<=r}function ws(t,e){return t-e*Math.floor(t/e)}function U(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Se(t){if(!(M(t)||t===null||t===""))return parseInt(t,10)}function Ve(t){if(!(M(t)||t===null||t===""))return parseFloat(t)}function cr(t){if(!(M(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Dr(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function ft(t){return t%4==0&&(t%100!=0||t%400==0)}function dt(t){return ft(t)?366:365}function Vt(t,e){let r=ws(e-1,12)+1,n=t+(e-r)/12;return r===2?ft(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function fr(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function jt(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function dr(t){return t>99?t:t>W.twoDigitCutoffYear?1900+t:2e3+t}function An(t,e,r,n=null){let u=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);let i={timeZoneName:e,...s},c=new Intl.DateTimeFormat(r,i).formatToParts(u).find(f=>f.type.toLowerCase()==="timezonename");return c?c.value:null}function Pt(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,u=r<0||Object.is(r,-0)?-n:n;return r*60+u}function Nn(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new te(`Invalid unit value ${t}`);return e}function Wt(t,e){let r={};for(let n in t)if(ze(t,n)){let u=t[n];if(u==null)continue;r[e(n)]=Nn(u)}return r}function ht(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),u=t>=0?"+":"-";switch(e){case"short":return`${u}${U(r,2)}:${U(n,2)}`;case"narrow":return`${u}${r}${n>0?`:${n}`:""}`;case"techie":return`${u}${U(r,2)}${U(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Rt(t){return Cs(t,["hour","minute","second","millisecond"])}var xs=["January","February","March","April","May","June","July","August","September","October","November","December"],In=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vs=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ln(t){switch(t){case"narrow":return[...vs];case"short":return[...In];case"long":return[...xs];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var _n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Vn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bs=["M","T","W","T","F","S","S"];function jn(t){switch(t){case"narrow":return[...bs];case"short":return[...Vn];case"long":return[..._n];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Pn=["AM","PM"],Os=["Before Christ","Anno Domini"],Ts=["BC","AD"],Ss=["B","A"];function Wn(t){switch(t){case"narrow":return[...Ss];case"short":return[...Ts];case"long":return[...Os];default:return null}}function Bs(t){return Pn[t.hour<12?0:1]}function ks(t,e){return jn(e)[t.weekday-1]}function Ms(t,e){return Ln(e)[t.month-1]}function As(t,e){return Wn(e)[t.year<0?0:1]}function Ns(t,e,r="always",n=!1){let u={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&s){let b=t==="days";switch(e){case 1:return b?"tomorrow":`next ${u[t][0]}`;case-1:return b?"yesterday":`last ${u[t][0]}`;case 0:return b?"today":`this ${u[t][0]}`}}let i=Object.is(e,-0)||e<0,c=Math.abs(e),f=c===1,d=u[t],C=n?f?d[1]:d[2]||d[1]:f?u[t][0]:t;return i?`${c} ${C} ago`:`in ${c} ${C}`}function Rn(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var Is={D:At,DD:Kr,DDD:Xr,DDDD:en,t:tn,tt:rn,ttt:nn,tttt:un,T:sn,TT:an,TTT:on,TTTT:ln,f:cn,ff:fn,fff:hn,ffff:pn,F:Dn,FF:dn,FFF:mn,FFFF:Fn},H=class{static create(e,r={}){return new H(e,r)}static parseFormat(e){let r=null,n="",u=!1,s=[];for(let i=0;i<e.length;i++){let c=e.charAt(i);c==="'"?(n.length>0&&s.push({literal:u,val:n}),r=null,n="",u=!u):u||c===r?n+=c:(n.length>0&&s.push({literal:!1,val:n}),n=c,r=c)}return n.length>0&&s.push({literal:u,val:n}),s}static macroTokenToFormatOpts(e){return Is[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).formatToParts()}formatInterval(e,r={}){return this.loc.dtFormatter(e.start,{...this.opts,...r}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return U(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",u=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(w,B)=>this.loc.extract(e,w,B),i=w=>e.isOffsetFixed&&e.offset===0&&w.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,w.format):"",c=()=>n?Bs(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(w,B)=>n?Ms(e,w):s(B?{month:w}:{month:w,day:"numeric"},"month"),d=(w,B)=>n?ks(e,w):s(B?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),C=w=>{let B=H.macroTokenToFormatOpts(w);return B?this.formatWithSystemDefault(e,B):w},b=w=>n?As(e,w):s({era:w},"era"),x=w=>{switch(w){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return u?s({day:"numeric"},"day"):this.num(e.day);case"dd":return u?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return u?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return u?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return u?s({month:"numeric"},"month"):this.num(e.month);case"MM":return u?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return u?s({year:"numeric"},"year"):this.num(e.year);case"yy":return u?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return u?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return u?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return b("short");case"GG":return b("long");case"GGGGG":return b("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return C(w)}};return Rn(H.parseFormat(r),x)}formatDurationFromString(e,r){let n=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},u=f=>d=>{let C=n(d);return C?this.num(f.get(C),d.length):d},s=H.parseFormat(r),i=s.reduce((f,{literal:d,val:C})=>d?f:f.concat(C),[]),c=e.shiftTo(...i.map(n).filter(f=>f));return Rn(s,u(c))}},ne=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},$n=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ye(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Ge(...t){return e=>t.reduce(([r,n,u],s)=>{let[i,c,f]=s(e,u);return[{...r,...i},c||n,f]},[{},null,1]).slice(0,2)}function Je(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let u=r.exec(t);if(u)return n(u)}return[null,null]}function Un(...t){return(e,r)=>{let n={},u;for(u=0;u<t.length;u++)n[t[u]]=Se(e[r+u]);return[n,null,r+u]}}var Zn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ls=`(?:${Zn.source}?(?:\\[(${$n.source})\\])?)?`,hr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,qn=RegExp(`${hr.source}${Ls}`),mr=RegExp(`(?:T${qn.source})?`),_s=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Vs=/(\d{4})-?W(\d\d)(?:-?(\d))?/,js=/(\d{4})-?(\d{3})/,Ps=Un("weekYear","weekNumber","weekDay"),Ws=Un("year","ordinal"),Rs=/(\d{4})-(\d\d)-(\d\d)/,Hn=RegExp(`${hr.source} ?(?:${Zn.source}|(${$n.source}))?`),$s=RegExp(`(?: ${Hn.source})?`);function Qe(t,e,r){let n=t[e];return M(n)?r:Se(n)}function Us(t,e){return[{year:Qe(t,e),month:Qe(t,e+1,1),day:Qe(t,e+2,1)},null,e+3]}function Ke(t,e){return[{hours:Qe(t,e,0),minutes:Qe(t,e+1,0),seconds:Qe(t,e+2,0),milliseconds:cr(t[e+3])},null,e+4]}function mt(t,e){let r=!t[e]&&!t[e+1],n=Pt(t[e+1],t[e+2]),u=r?null:Y.instance(n);return[{},u,e+3]}function pt(t,e){let r=t[e]?me.create(t[e]):null;return[{},r,e+1]}var Zs=RegExp(`^T?${hr.source}$`),qs=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Hs(t){let[e,r,n,u,s,i,c,f,d]=t,C=e[0]==="-",b=f&&f[0]==="-",x=(w,B=!1)=>w!==void 0&&(B||w&&C)?-w:w;return[{years:x(Ve(r)),months:x(Ve(n)),weeks:x(Ve(u)),days:x(Ve(s)),hours:x(Ve(i)),minutes:x(Ve(c)),seconds:x(Ve(f),f==="-0"),milliseconds:x(cr(d),b)}]}var zs={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function pr(t,e,r,n,u,s,i){let c={year:e.length===2?dr(Se(e)):Se(e),month:In.indexOf(r)+1,day:Se(n),hour:Se(u),minute:Se(s)};return i&&(c.second=Se(i)),t&&(c.weekday=t.length>3?_n.indexOf(t)+1:Vn.indexOf(t)+1),c}var Ys=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Gs(t){let[,e,r,n,u,s,i,c,f,d,C,b]=t,x=pr(e,u,n,r,s,i,c),w;return f?w=zs[f]:d?w=0:w=Pt(C,b),[x,new Y(w)]}function Js(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Qs=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ks=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Xs=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zn(t){let[,e,r,n,u,s,i,c]=t;return[pr(e,u,n,r,s,i,c),Y.utcInstance]}function ei(t){let[,e,r,n,u,s,i,c]=t;return[pr(e,c,r,n,u,s,i),Y.utcInstance]}var ti=Ye(_s,mr),ri=Ye(Vs,mr),ni=Ye(js,mr),ui=Ye(qn),Yn=Ge(Us,Ke,mt,pt),si=Ge(Ps,Ke,mt,pt),ii=Ge(Ws,Ke,mt,pt),ai=Ge(Ke,mt,pt);function oi(t){return Je(t,[ti,Yn],[ri,si],[ni,ii],[ui,ai])}function li(t){return Je(Js(t),[Ys,Gs])}function ci(t){return Je(t,[Qs,zn],[Ks,zn],[Xs,ei])}function Di(t){return Je(t,[qs,Hs])}var fi=Ge(Ke);function di(t){return Je(t,[Zs,fi])}var hi=Ye(Rs,$s),mi=Ye(Hn),pi=Ge(Ke,mt,pt);function Fi(t){return Je(t,[hi,Yn],[mi,pi])}var yi="Invalid Duration",Gn={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},gi={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Gn},ue=146097/400,Xe=146097/4800,Ei={years:{quarters:4,months:12,weeks:ue/7,days:ue,hours:ue*24,minutes:ue*24*60,seconds:ue*24*60*60,milliseconds:ue*24*60*60*1e3},quarters:{months:3,weeks:ue/28,days:ue/4,hours:ue*24/4,minutes:ue*24*60/4,seconds:ue*24*60*60/4,milliseconds:ue*24*60*60*1e3/4},months:{weeks:Xe/7,days:Xe,hours:Xe*24,minutes:Xe*24*60,seconds:Xe*24*60*60,milliseconds:Xe*24*60*60*1e3},...Gn},je=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ci=je.slice(0).reverse();function Be(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new E(n)}function wi(t){return t<0?Math.floor(t):Math.ceil(t)}function Jn(t,e,r,n,u){let s=t[u][r],i=e[r]/s,c=Math.sign(i)===Math.sign(n[u]),f=!c&&n[u]!==0&&Math.abs(i)<=1?wi(i):Math.trunc(i);n[u]+=f,e[r]-=f*s}function xi(t,e){Ci.reduce((r,n)=>M(e[n])?r:(r&&Jn(t,e,r,e,n),n),null)}function vi(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var E=class{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?Ei:gi;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||L.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return E.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new te(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new E({values:Wt(e,E.normalizeUnit),loc:L.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(_e(e))return E.fromMillis(e);if(E.isDuration(e))return e;if(typeof e=="object")return E.fromObject(e);throw new te(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=Di(e);return n?E.fromObject(n,r):E.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=di(e);return n?E.fromObject(n,r):E.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new te("need to specify a reason the Duration is invalid");let n=e instanceof ne?e:new ne(e,r);if(W.throwOnInvalid)throw new Qr(n);return new E({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new nr(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?H.create(this.loc,n).formatDurationFromString(this,e):yi}toHuman(e={}){let r=je.map(n=>{let u=this.values[n];return M(u)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(u)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Dr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();if(r<0||r>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),u=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(u+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(u+=".SSS"));let s=n.toFormat(u);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=E.fromDurationLike(e),n={};for(let u of je)(ze(r.values,u)||ze(this.values,u))&&(n[u]=r.get(u)+this.get(u));return Be(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=E.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=Nn(e(this.values[n],n));return Be(this,{values:r},!0)}get(e){return this[E.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...Wt(e,E.normalizeUnit)};return Be(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:u}={}){let i={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:u,conversionAccuracy:n};return Be(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return xi(this.matrix,e),Be(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=vi(this.normalize().shiftToAll().toObject());return Be(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(i=>E.normalizeUnit(i));let r={},n={},u=this.toObject(),s;for(let i of je)if(e.indexOf(i)>=0){s=i;let c=0;for(let d in n)c+=this.matrix[d][i]*n[d],n[d]=0;_e(u[i])&&(c+=u[i]);let f=Math.trunc(c);r[i]=f,n[i]=(c*1e3-f*1e3)/1e3;for(let d in u)je.indexOf(d)>je.indexOf(i)&&Jn(this.matrix,u,d,r,i)}else _e(u[i])&&(n[i]=u[i]);for(let i in n)n[i]!==0&&(r[s]+=i===s?n[i]:n[i]/this.matrix[s][i]);return Be(this,{values:r},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Be(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,u){return n===void 0||n===0?u===void 0||u===0:n===u}for(let n of je)if(!r(this.values[n],e.values[n]))return!1;return!0}},et="Invalid Interval";function bi(t,e){return!t||!t.isValid?_.invalid("missing or invalid start"):!e||!e.isValid?_.invalid("missing or invalid end"):e<t?_.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var _=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new te("need to specify a reason the Interval is invalid");let n=e instanceof ne?e:new ne(e,r);if(W.throwOnInvalid)throw new Jr(n);return new _({invalid:n})}static fromDateTimes(e,r){let n=Et(e),u=Et(r),s=bi(n,u);return s??new _({start:n,end:u})}static after(e,r){let n=E.fromDurationLike(r),u=Et(e);return _.fromDateTimes(u,u.plus(n))}static before(e,r){let n=E.fromDurationLike(r),u=Et(e);return _.fromDateTimes(u.minus(n),u)}static fromISO(e,r){let[n,u]=(e||"").split("/",2);if(n&&u){let s,i;try{s=v.fromISO(n,r),i=s.isValid}catch(d){i=!1}let c,f;try{c=v.fromISO(u,r),f=c.isValid}catch(d){f=!1}if(i&&f)return _.fromDateTimes(s,c);if(i){let d=E.fromISO(u,r);if(d.isValid)return _.after(s,d)}else if(f){let d=E.fromISO(n,r);if(d.isValid)return _.before(c,d)}}return _.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?_.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(Et).filter(i=>this.contains(i)).sort(),n=[],{s:u}=this,s=0;for(;u<this.e;){let i=r[s]||this.e,c=+i>+this.e?this.e:i;n.push(_.fromDateTimes(u,c)),u=c,s+=1}return n}splitBy(e){let r=E.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,u=1,s,i=[];for(;n<this.e;){let c=this.start.plus(r.mapUnits(f=>f*u));s=+c>+this.e?this.e:c,i.push(_.fromDateTimes(n,s)),n=s,u+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:_.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return _.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((u,s)=>u.s-s.s).reduce(([u,s],i)=>s?s.overlaps(i)||s.abutsStart(i)?[u,s.union(i)]:[u.concat([s]),i]:[u,i],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,u=[],s=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),i=Array.prototype.concat(...s),c=i.sort((f,d)=>f.time-d.time);for(let f of c)n+=f.type==="s"?1:-1,n===1?r=f.time:(r&&+r!=+f.time&&u.push(_.fromDateTimes(r,f.time)),r=null);return _.merge(u)}difference(...e){return _.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:et}toLocaleString(e=At,r={}){return this.isValid?H.create(this.s.loc.clone(r),e).formatInterval(this):et}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:et}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:et}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:et}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:et}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):E.invalid(this.invalidReason)}mapEndpoints(e){return _.fromDateTimes(e(this.s),e(this.e))}},Ft=class{static hasDST(e=W.defaultZone){let r=v.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return me.isValidZone(e)}static normalizeZone(e){return Te(e,W.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:u=null,outputCalendar:s="gregory"}={}){return(u||L.create(r,n,s)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:u=null,outputCalendar:s="gregory"}={}){return(u||L.create(r,n,s)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:u=null}={}){return(u||L.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:u=null}={}){return(u||L.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return L.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return L.create(r,null,"gregory").eras(e)}static features(){return{relative:kn()}}};function Qn(t,e){let r=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(E.fromMillis(n).as("days"))}function Oi(t,e,r){let n=[["years",(f,d)=>d.year-f.year],["quarters",(f,d)=>d.quarter-f.quarter+(d.year-f.year)*4],["months",(f,d)=>d.month-f.month+(d.year-f.year)*12],["weeks",(f,d)=>{let C=Qn(f,d);return(C-C%7)/7}],["days",Qn]],u={},s=t,i,c;for(let[f,d]of n)r.indexOf(f)>=0&&(i=f,u[f]=d(t,e),c=s.plus(u),c>e?(u[f]--,t=s.plus(u)):t=c);return[t,u,c,i]}function Ti(t,e,r,n){let[u,s,i,c]=Oi(t,e,r),f=e-u,d=r.filter(b=>["hours","minutes","seconds","milliseconds"].indexOf(b)>=0);d.length===0&&(i<e&&(i=u.plus({[c]:1})),i!==u&&(s[c]=(s[c]||0)+f/(i-u)));let C=E.fromObject(s,n);return d.length>0?E.fromMillis(f,n).shiftTo(...d).plus(C):C}var Fr={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Kn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Si=Fr.hanidec.replace(/[\[|\]]/g,"").split("");function Bi(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Fr.hanidec)!==-1)e+=Si.indexOf(t[r]);else for(let u in Kn){let[s,i]=Kn[u];n>=s&&n<=i&&(e+=n-s)}}return parseInt(e,10)}else return e}function oe({numberingSystem:t},e=""){return new RegExp(`${Fr[t||"latn"]}${e}`)}var ki="missing Intl.DateTimeFormat.formatToParts support";function A(t,e=r=>r){return{regex:t,deser:([r])=>e(Bi(r))}}var Mi=String.fromCharCode(160),Xn=`[ ${Mi}]`,eu=new RegExp(Xn,"g");function Ai(t){return t.replace(/\./g,"\\.?").replace(eu,Xn)}function tu(t){return t.replace(/\./g,"").replace(eu," ").toLowerCase()}function le(t,e){return t===null?null:{regex:RegExp(t.map(Ai).join("|")),deser:([r])=>t.findIndex(n=>tu(r)===tu(n))+e}}function ru(t,e){return{regex:t,deser:([,r,n])=>Pt(r,n),groups:e}}function yr(t){return{regex:t,deser:([e])=>e}}function Ni(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ii(t,e){let r=oe(e),n=oe(e,"{2}"),u=oe(e,"{3}"),s=oe(e,"{4}"),i=oe(e,"{6}"),c=oe(e,"{1,2}"),f=oe(e,"{1,3}"),d=oe(e,"{1,6}"),C=oe(e,"{1,9}"),b=oe(e,"{2,4}"),x=oe(e,"{4,6}"),w=$=>({regex:RegExp(Ni($.val)),deser:([K])=>K,literal:!0}),R=($=>{if(t.literal)return w($);switch($.val){case"G":return le(e.eras("short",!1),0);case"GG":return le(e.eras("long",!1),0);case"y":return A(d);case"yy":return A(b,dr);case"yyyy":return A(s);case"yyyyy":return A(x);case"yyyyyy":return A(i);case"M":return A(c);case"MM":return A(n);case"MMM":return le(e.months("short",!0,!1),1);case"MMMM":return le(e.months("long",!0,!1),1);case"L":return A(c);case"LL":return A(n);case"LLL":return le(e.months("short",!1,!1),1);case"LLLL":return le(e.months("long",!1,!1),1);case"d":return A(c);case"dd":return A(n);case"o":return A(f);case"ooo":return A(u);case"HH":return A(n);case"H":return A(c);case"hh":return A(n);case"h":return A(c);case"mm":return A(n);case"m":return A(c);case"q":return A(c);case"qq":return A(n);case"s":return A(c);case"ss":return A(n);case"S":return A(f);case"SSS":return A(u);case"u":return yr(C);case"uu":return yr(c);case"uuu":return A(r);case"a":return le(e.meridiems(),0);case"kkkk":return A(s);case"kk":return A(b,dr);case"W":return A(c);case"WW":return A(n);case"E":case"c":return A(r);case"EEE":return le(e.weekdays("short",!1,!1),1);case"EEEE":return le(e.weekdays("long",!1,!1),1);case"ccc":return le(e.weekdays("short",!0,!1),1);case"cccc":return le(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ru(new RegExp(`([+-]${c.source})(?::(${n.source}))?`),2);case"ZZZ":return ru(new RegExp(`([+-]${c.source})(${n.source})?`),2);case"z":return yr(/[a-z_+-/]{1,256}?/i);default:return w($)}})(t)||{invalidReason:ki};return R.token=t,R}var Li={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function _i(t,e){let{type:r,value:n}=t;if(r==="literal")return{literal:!0,val:n};let u=e[r],s=Li[r];if(typeof s=="object"&&(s=s[u]),s)return{literal:!1,val:s}}function Vi(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function ji(t,e,r){let n=t.match(e);if(n){let u={},s=1;for(let i in r)if(ze(r,i)){let c=r[i],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(u[c.token.val[0]]=c.deser(n.slice(s,s+f))),s+=f}return[n,u]}else return[n,{}]}function Pi(t){let e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return M(t.z)||(r=me.create(t.z)),M(t.Z)||(r||(r=new Y(t.Z)),n=t.Z),M(t.q)||(t.M=(t.q-1)*3+1),M(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),M(t.u)||(t.S=cr(t.u)),[Object.keys(t).reduce((s,i)=>{let c=e(i);return c&&(s[c]=t[i]),s},{}),r,n]}var gr=null;function Wi(){return gr||(gr=v.fromMillis(1555555555555)),gr}function Ri(t,e){if(t.literal)return t;let r=H.macroTokenToFormatOpts(t.val),n=su(r,e);return n==null||n.includes(void 0)?t:n}function nu(t,e){return Array.prototype.concat(...t.map(r=>Ri(r,e)))}function uu(t,e,r){let n=nu(H.parseFormat(r),t),u=n.map(i=>Ii(i,t)),s=u.find(i=>i.invalidReason);if(s)return{input:e,tokens:n,invalidReason:s.invalidReason};{let[i,c]=Vi(u),f=RegExp(i,"i"),[d,C]=ji(e,f,c),[b,x,w]=C?Pi(C):[null,null,void 0];if(ze(C,"a")&&ze(C,"H"))throw new qe("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:f,rawMatches:d,matches:C,result:b,zone:x,specificOffset:w}}}function $i(t,e,r){let{result:n,zone:u,specificOffset:s,invalidReason:i}=uu(t,e,r);return[n,u,s,i]}function su(t,e){return t?H.create(e,t).formatDateTimeParts(Wi()).map(u=>_i(u,t)):null}var iu=[0,31,59,90,120,151,181,212,243,273,304,334],au=[0,31,60,91,121,152,182,213,244,274,305,335];function se(t,e){return new ne("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function ou(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let u=n.getUTCDay();return u===0?7:u}function lu(t,e,r){return r+(ft(t)?au:iu)[e-1]}function cu(t,e){let r=ft(t)?au:iu,n=r.findIndex(s=>s<e),u=e-r[n];return{month:n+1,day:u}}function Er(t){let{year:e,month:r,day:n}=t,u=lu(e,r,n),s=ou(e,r,n),i=Math.floor((u-s+10)/7),c;return i<1?(c=e-1,i=jt(c)):i>jt(e)?(c=e+1,i=1):c=e,{weekYear:c,weekNumber:i,weekday:s,...Rt(t)}}function Du(t){let{weekYear:e,weekNumber:r,weekday:n}=t,u=ou(e,1,4),s=dt(e),i=r*7+n-u-3,c;i<1?(c=e-1,i+=dt(c)):i>s?(c=e+1,i-=dt(e)):c=e;let{month:f,day:d}=cu(c,i);return{year:c,month:f,day:d,...Rt(t)}}function Cr(t){let{year:e,month:r,day:n}=t,u=lu(e,r,n);return{year:e,ordinal:u,...Rt(t)}}function fu(t){let{year:e,ordinal:r}=t,{month:n,day:u}=cu(e,r);return{year:e,month:n,day:u,...Rt(t)}}function Ui(t){let e=_t(t.weekYear),r=be(t.weekNumber,1,jt(t.weekYear)),n=be(t.weekday,1,7);return e?r?n?!1:se("weekday",t.weekday):se("week",t.week):se("weekYear",t.weekYear)}function Zi(t){let e=_t(t.year),r=be(t.ordinal,1,dt(t.year));return e?r?!1:se("ordinal",t.ordinal):se("year",t.year)}function du(t){let e=_t(t.year),r=be(t.month,1,12),n=be(t.day,1,Vt(t.year,t.month));return e?r?n?!1:se("day",t.day):se("month",t.month):se("year",t.year)}function hu(t){let{hour:e,minute:r,second:n,millisecond:u}=t,s=be(e,0,23)||e===24&&r===0&&n===0&&u===0,i=be(r,0,59),c=be(n,0,59),f=be(u,0,999);return s?i?c?f?!1:se("millisecond",u):se("second",n):se("minute",r):se("hour",e)}var wr="Invalid DateTime",mu=864e13;function $t(t){return new ne("unsupported zone",`the zone "${t.name}" is not supported`)}function xr(t){return t.weekData===null&&(t.weekData=Er(t.c)),t.weekData}function yt(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new v({...r,...e,old:r})}function pu(t,e,r){let n=t-e*60*1e3,u=r.offset(n);if(e===u)return[n,e];n-=(u-e)*60*1e3;let s=r.offset(n);return u===s?[n,u]:[t-Math.min(u,s)*60*1e3,Math.max(u,s)]}function Fu(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Ut(t,e,r){return pu(fr(t),e,r)}function yu(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),u=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:n,month:u,day:Math.min(t.c.day,Vt(n,u))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},i=E.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=fr(s),[f,d]=pu(c,r,t.zone);return i!==0&&(f+=i,d=t.zone.offset(f)),{ts:f,o:d}}function gt(t,e,r,n,u,s){let{setZone:i,zone:c}=r;if(t&&Object.keys(t).length!==0){let f=e||c,d=v.fromObject(t,{...r,zone:f,specificOffset:s});return i?d:d.setZone(c)}else return v.invalid(new ne("unparsable",`the input "${u}" can't be parsed as ${n}`))}function Zt(t,e,r=!0){return t.isValid?H.create(L.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function vr(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=U(t.c.year,r?6:4),e?(n+="-",n+=U(t.c.month),n+="-",n+=U(t.c.day)):(n+=U(t.c.month),n+=U(t.c.day)),n}function gu(t,e,r,n,u,s){let i=U(t.c.hour);return e?(i+=":",i+=U(t.c.minute),(t.c.second!==0||!r)&&(i+=":")):i+=U(t.c.minute),(t.c.second!==0||!r)&&(i+=U(t.c.second),(t.c.millisecond!==0||!n)&&(i+=".",i+=U(t.c.millisecond,3))),u&&(t.isOffsetFixed&&t.offset===0&&!s?i+="Z":t.o<0?(i+="-",i+=U(Math.trunc(-t.o/60)),i+=":",i+=U(Math.trunc(-t.o%60))):(i+="+",i+=U(Math.trunc(t.o/60)),i+=":",i+=U(Math.trunc(t.o%60)))),s&&(i+="["+t.zone.ianaName+"]"),i}var Eu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},qi={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hi={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Cu=["year","month","day","hour","minute","second","millisecond"],zi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Yi=["year","ordinal","hour","minute","second","millisecond"];function wu(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new nr(t);return e}function xu(t,e){let r=Te(e.zone,W.defaultZone),n=L.fromObject(e),u=W.now(),s,i;if(M(t.year))s=u;else{for(let d of Cu)M(t[d])&&(t[d]=Eu[d]);let c=du(t)||hu(t);if(c)return v.invalid(c);let f=r.offset(u);[s,i]=Ut(t,f,r)}return new v({ts:s,zone:r,loc:n,o:i})}function vu(t,e,r){let n=M(r.round)?!0:r.round,u=(i,c)=>(i=Dr(i,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(i,c)),s=i=>r.calendary?e.hasSame(t,i)?0:e.startOf(i).diff(t.startOf(i),i).get(i):e.diff(t,i).get(i);if(r.unit)return u(s(r.unit),r.unit);for(let i of r.units){let c=s(i);if(Math.abs(c)>=1)return u(c,i)}return u(t>e?-0:0,r.units[r.units.length-1])}function bu(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var v=class{constructor(e){let r=e.zone||W.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new ne("invalid input"):null)||(r.isValid?null:$t(r));this.ts=M(e.ts)?W.now():e.ts;let u=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[u,s]=[e.old.c,e.old.o];else{let c=r.offset(this.ts);u=Fu(this.ts,c),n=Number.isNaN(u.year)?new ne("invalid input"):null,u=n?null:u,s=n?null:c}this._zone=r,this.loc=e.loc||L.create(),this.invalid=n,this.weekData=null,this.c=u,this.o=s,this.isLuxonDateTime=!0}static now(){return new v({})}static local(){let[e,r]=bu(arguments),[n,u,s,i,c,f,d]=r;return xu({year:n,month:u,day:s,hour:i,minute:c,second:f,millisecond:d},e)}static utc(){let[e,r]=bu(arguments),[n,u,s,i,c,f,d]=r;return e.zone=Y.utcInstance,xu({year:n,month:u,day:s,hour:i,minute:c,second:f,millisecond:d},e)}static fromJSDate(e,r={}){let n=gs(e)?e.valueOf():NaN;if(Number.isNaN(n))return v.invalid("invalid input");let u=Te(r.zone,W.defaultZone);return u.isValid?new v({ts:n,zone:u,loc:L.fromObject(r)}):v.invalid($t(u))}static fromMillis(e,r={}){if(_e(e))return e<-mu||e>mu?v.invalid("Timestamp out of range"):new v({ts:e,zone:Te(r.zone,W.defaultZone),loc:L.fromObject(r)});throw new te(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(_e(e))return new v({ts:e*1e3,zone:Te(r.zone,W.defaultZone),loc:L.fromObject(r)});throw new te("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=Te(r.zone,W.defaultZone);if(!n.isValid)return v.invalid($t(n));let u=W.now(),s=M(r.specificOffset)?n.offset(u):r.specificOffset,i=Wt(e,wu),c=!M(i.ordinal),f=!M(i.year),d=!M(i.month)||!M(i.day),C=f||d,b=i.weekYear||i.weekNumber,x=L.fromObject(r);if((C||c)&&b)throw new qe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&c)throw new qe("Can't mix ordinal dates with month/day");let w=b||i.weekday&&!C,B,R,$=Fu(u,s);w?(B=zi,R=qi,$=Er($)):c?(B=Yi,R=Hi,$=Cr($)):(B=Cu,R=Eu);let K=!1;for(let N of B){let k=i[N];M(k)?K?i[N]=R[N]:i[N]=$[N]:K=!0}let De=w?Ui(i):c?Zi(i):du(i),fe=De||hu(i);if(fe)return v.invalid(fe);let m=w?Du(i):c?fu(i):i,[T,V]=Ut(m,s,n),O=new v({ts:T,zone:n,o:V,loc:x});return i.weekday&&C&&e.weekday!==O.weekday?v.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${O.toISO()}`):O}static fromISO(e,r={}){let[n,u]=oi(e);return gt(n,u,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,u]=li(e);return gt(n,u,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,u]=ci(e);return gt(n,u,r,"HTTP",r)}static fromFormat(e,r,n={}){if(M(e)||M(r))throw new te("fromFormat requires an input string and a format");let{locale:u=null,numberingSystem:s=null}=n,i=L.fromOpts({locale:u,numberingSystem:s,defaultToEN:!0}),[c,f,d,C]=$i(i,e,r);return C?v.invalid(C):gt(c,f,n,`format ${r}`,e,d)}static fromString(e,r,n={}){return v.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,u]=Fi(e);return gt(n,u,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new te("need to specify a reason the DateTime is invalid");let n=e instanceof ne?e:new ne(e,r);if(W.throwOnInvalid)throw new Gr(n);return new v({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=su(e,L.fromObject(r));return n?n.map(u=>u?u.val:null).join(""):null}static expandFormat(e,r={}){return nu(H.parseFormat(e),L.fromObject(r)).map(u=>u.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?xr(this).weekYear:NaN}get weekNumber(){return this.isValid?xr(this).weekNumber:NaN}get weekday(){return this.isValid?xr(this).weekday:NaN}get ordinal(){return this.isValid?Cr(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ft.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ft.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ft.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ft.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return ft(this.year)}get daysInMonth(){return Vt(this.year,this.month)}get daysInYear(){return this.isValid?dt(this.year):NaN}get weeksInWeekYear(){return this.isValid?jt(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:u}=H.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:u}}toUTC(e=0,r={}){return this.setZone(Y.instance(e),r)}toLocal(){return this.setZone(W.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Te(e,W.defaultZone),e.equals(this.zone))return this;if(e.isValid){let u=this.ts;if(r||n){let s=e.offset(this.ts),i=this.toObject();[u]=Ut(i,s,e)}return yt(this,{ts:u,zone:e})}else return v.invalid($t(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let u=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return yt(this,{loc:u})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=Wt(e,wu),n=!M(r.weekYear)||!M(r.weekNumber)||!M(r.weekday),u=!M(r.ordinal),s=!M(r.year),i=!M(r.month)||!M(r.day),c=s||i,f=r.weekYear||r.weekNumber;if((c||u)&&f)throw new qe("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&u)throw new qe("Can't mix ordinal dates with month/day");let d;n?d=Du({...Er(this.c),...r}):M(r.ordinal)?(d={...this.toObject(),...r},M(r.day)&&(d.day=Math.min(Vt(d.year,d.month),d.day))):d=fu({...Cr(this.c),...r});let[C,b]=Ut(d,this.o,this.zone);return yt(this,{ts:C,o:b})}plus(e){if(!this.isValid)return this;let r=E.fromDurationLike(e);return yt(this,yu(this,r))}minus(e){if(!this.isValid)return this;let r=E.fromDurationLike(e).negate();return yt(this,yu(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=E.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let u=Math.ceil(this.month/3);r.month=(u-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?H.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):wr}toLocaleString(e=At,r={}){return this.isValid?H.create(this.loc.clone(r),e).formatDateTime(this):wr}toLocaleParts(e={}){return this.isValid?H.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:u=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;let i=e==="extended",c=vr(this,i);return c+="T",c+=gu(this,i,r,n,u,s),c}toISODate({format:e="extended"}={}){return this.isValid?vr(this,e==="extended"):null}toISOWeekDate(){return Zt(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:u=!1,extendedZone:s=!1,format:i="extended"}={}){return this.isValid?(u?"T":"")+gu(this,i==="extended",r,e,n,s):null}toRFC2822(){return Zt(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Zt(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?vr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let u="HH:mm:ss.SSS";return(r||e)&&(n&&(u+=" "),r?u+="z":e&&(u+="ZZ")),Zt(this,u,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():wr}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return E.invalid("created by diffing an invalid DateTime");let u={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=Es(r).map(E.normalizeUnit),i=e.valueOf()>this.valueOf(),c=i?this:e,f=i?e:this,d=Ti(c,f,s,u);return i?d.negate():d}diffNow(e="milliseconds",r={}){return this.diff(v.now(),e,r)}until(e){return this.isValid?_.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),u=this.setZone(e.zone,{keepLocalTime:!0});return u.startOf(r)<=n&&n<=u.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||v.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,u=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(u=e.unit,s=void 0),vu(r,this.plus(n),{...e,numeric:"always",units:u,unit:s})}toRelativeCalendar(e={}){return this.isValid?vu(e.base||v.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(v.isDateTime))throw new te("min requires all arguments be DateTimes");return Mn(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(v.isDateTime))throw new te("max requires all arguments be DateTimes");return Mn(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:u=null,numberingSystem:s=null}=n,i=L.fromOpts({locale:u,numberingSystem:s,defaultToEN:!0});return uu(i,e,r)}static fromStringExplain(e,r,n={}){return v.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return At}static get DATE_MED(){return Kr}static get DATE_MED_WITH_WEEKDAY(){return ns}static get DATE_FULL(){return Xr}static get DATE_HUGE(){return en}static get TIME_SIMPLE(){return tn}static get TIME_WITH_SECONDS(){return rn}static get TIME_WITH_SHORT_OFFSET(){return nn}static get TIME_WITH_LONG_OFFSET(){return un}static get TIME_24_SIMPLE(){return sn}static get TIME_24_WITH_SECONDS(){return an}static get TIME_24_WITH_SHORT_OFFSET(){return on}static get TIME_24_WITH_LONG_OFFSET(){return ln}static get DATETIME_SHORT(){return cn}static get DATETIME_SHORT_WITH_SECONDS(){return Dn}static get DATETIME_MED(){return fn}static get DATETIME_MED_WITH_SECONDS(){return dn}static get DATETIME_MED_WITH_WEEKDAY(){return us}static get DATETIME_FULL(){return hn}static get DATETIME_FULL_WITH_SECONDS(){return mn}static get DATETIME_HUGE(){return pn}static get DATETIME_HUGE_WITH_SECONDS(){return Fn}};function Et(t){if(v.isDateTime(t))return t;if(t&&t.valueOf&&_e(t.valueOf()))return v.fromJSDate(t);if(t&&typeof t=="object")return v.fromObject(t);throw new te(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var br={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},Gi={allowHtml:!0};({...br,...Gi});var qt=class{constructor(e){this.value=e,this.successful=!0}map(e){return new qt(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},Ht=class{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new Ht(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},zt;(function(t){function e(s){return new qt(s)}t.success=e;function r(s){return new Ht(s)}t.failure=r;function n(s,i,c){return s.successful?i.successful?c(s.value,i.value):r(i.error):r(s.error)}t.flatMap2=n;function u(s,i,c){return n(s,i,(f,d)=>e(c(f,d)))}t.map2=u})(zt||(zt={}));var Ji=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},o={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(typeof self!="undefined"?self:Ji,function(){return function(r){var n={};function u(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return r[s].call(i.exports,i,i.exports,u),i.l=!0,i.exports}return u.m=r,u.c=n,u.d=function(s,i,c){u.o(s,i)||Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:c})},u.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},u.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return u.d(i,"a",i),i},u.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},u.p="",u(u.s=0)}([function(r,n,u){function s(a){if(!(this instanceof s))return new s(a);this._=a}var i=s.prototype;function c(a,l){for(var D=0;D<a;D++)l(D)}function f(a,l,D){return function(h,p){c(p.length,function(F){h(p[F],F,p)})}(function(h,p,F){l=a(l,h,p,F)},D),l}function d(a,l){return f(function(D,h,p,F){return D.concat([a(h,p,F)])},[],l)}function C(a,l){var D={v:0,buf:l};return c(a,function(){var h;D={v:D.v<<1|(h=D.buf,h[0]>>7),buf:function(p){var F=f(function(y,S,I,G){return y.concat(I===G.length-1?Buffer.from([S,0]).readUInt16BE(0):G.readUInt16BE(I))},[],p);return Buffer.from(d(function(y){return(y<<1&65535)>>8},F))}(D.buf)}}),D}function b(){return typeof Buffer!="undefined"}function x(){if(!b())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function w(a){x();var l=f(function(F,y){return F+y},0,a);if(l%8!=0)throw new Error("The bits ["+a.join(", ")+"] add up to "+l+" which is not an even number of bytes; the total should be divisible by 8");var D,h=l/8,p=(D=function(F){return F>48},f(function(F,y){return F||(D(y)?y:F)},null,a));if(p)throw new Error(p+" bit range requested exceeds 48 bit (6 byte) Number max.");return new s(function(F,y){var S=h+y;return S>F.length?N(y,h.toString()+" bytes"):O(S,f(function(I,G){var q=C(G,I.buf);return{coll:I.coll.concat(q.v),buf:q.buf}},{coll:[],buf:F.slice(y,S)},a).coll)})}function B(a,l){return new s(function(D,h){return x(),h+l>D.length?N(h,l+" bytes for "+a):O(h+l,D.slice(h,h+l))})}function R(a,l){if(typeof(D=l)!="number"||Math.floor(D)!==D||l<0||l>6)throw new Error(a+" requires integer length in range [0, 6].");var D}function $(a){return R("uintBE",a),B("uintBE("+a+")",a).map(function(l){return l.readUIntBE(0,a)})}function K(a){return R("uintLE",a),B("uintLE("+a+")",a).map(function(l){return l.readUIntLE(0,a)})}function De(a){return R("intBE",a),B("intBE("+a+")",a).map(function(l){return l.readIntBE(0,a)})}function fe(a){return R("intLE",a),B("intLE("+a+")",a).map(function(l){return l.readIntLE(0,a)})}function m(a){return a instanceof s}function T(a){return{}.toString.call(a)==="[object Array]"}function V(a){return b()&&Buffer.isBuffer(a)}function O(a,l){return{status:!0,index:a,value:l,furthest:-1,expected:[]}}function N(a,l){return T(l)||(l=[l]),{status:!1,index:-1,value:null,furthest:a,expected:l}}function k(a,l){if(!l||a.furthest>l.furthest)return a;var D=a.furthest===l.furthest?function(h,p){if(function(){if(s._supportsSet!==void 0)return s._supportsSet;var xe=typeof Set!="undefined";return s._supportsSet=xe,xe}()&&Array.from){for(var F=new Set(h),y=0;y<p.length;y++)F.add(p[y]);var S=Array.from(F);return S.sort(),S}for(var I={},G=0;G<h.length;G++)I[h[G]]=!0;for(var q=0;q<p.length;q++)I[p[q]]=!0;var we=[];for(var ee in I)({}).hasOwnProperty.call(I,ee)&&we.push(ee);return we.sort(),we}(a.expected,l.expected):l.expected;return{status:a.status,index:a.index,value:a.value,furthest:l.furthest,expected:D}}var P={};function ye(a,l){if(V(a))return{offset:l,line:-1,column:-1};a in P||(P[a]={});for(var D=P[a],h=0,p=0,F=0,y=l;y>=0;){if(y in D){h=D[y].line,F===0&&(F=D[y].lineStart);break}(a.charAt(y)===`
`||a.charAt(y)==="\r"&&a.charAt(y+1)!==`
`)&&(p++,F===0&&(F=y+1)),y--}var S=h+p,I=l-F;return D[l]={line:S,lineStart:F},{offset:l,line:S+1,column:I+1}}function X(a){if(!m(a))throw new Error("not a parser: "+a)}function Me(a,l){return typeof a=="string"?a.charAt(l):a[l]}function ge(a){if(typeof a!="number")throw new Error("not a number: "+a)}function de(a){if(typeof a!="function")throw new Error("not a function: "+a)}function Ee(a){if(typeof a!="string")throw new Error("not a string: "+a)}var st=2,vt=3,ie=8,it=5*ie,bt=4*ie,at="  ";function Q(a,l){return new Array(l+1).join(a)}function he(a,l,D){var h=l-a.length;return h<=0?a:Q(D,h)+a}function jr(a,l,D,h){return{from:a-l>0?a-l:0,to:a+D>h?h:a+D}}function ju(a,l){var D,h,p,F,y,S=l.index,I=S.offset,G=1;if(I===a.length)return"Got the end of the input";if(V(a)){var q=I-I%ie,we=I-q,ee=jr(q,it,bt+ie,a.length),xe=d(function(Z){return d(function(Re){return he(Re.toString(16),2,"0")},Z)},function(Z,Re){var $e=Z.length,Ie=[],Ue=0;if($e<=Re)return[Z.slice()];for(var Ze=0;Ze<$e;Ze++)Ie[Ue]||Ie.push([]),Ie[Ue].push(Z[Ze]),(Ze+1)%Re==0&&Ue++;return Ie}(a.slice(ee.from,ee.to).toJSON().data,ie));F=function(Z){return Z.from===0&&Z.to===1?{from:Z.from,to:Z.to}:{from:Z.from/ie,to:Math.floor(Z.to/ie)}}(ee),h=q/ie,D=3*we,we>=4&&(D+=1),G=2,p=d(function(Z){return Z.length<=4?Z.join(" "):Z.slice(0,4).join(" ")+"  "+Z.slice(4).join(" ")},xe),(y=(8*(F.to>0?F.to-1:F.to)).toString(16).length)<2&&(y=2)}else{var We=a.split(/\r\n|[\n\r\u2028\u2029]/);D=S.column-1,h=S.line-1,F=jr(h,st,vt,We.length),p=We.slice(F.from,F.to),y=F.to.toString().length}var Yu=h-F.from;return V(a)&&(y=(8*(F.to>0?F.to-1:F.to)).toString(16).length)<2&&(y=2),f(function(Z,Re,$e){var Ie,Ue=$e===Yu,Ze=Ue?"> ":at;return Ie=V(a)?he((8*(F.from+$e)).toString(16),y,"0"):he((F.from+$e+1).toString(),y," "),[].concat(Z,[Ze+Ie+" | "+Re],Ue?[at+Q(" ",y)+" | "+he("",D," ")+Q("^",G)]:[])},[],p).join(`
`)}function Pr(a,l){return[`
`,"-- PARSING FAILED "+Q("-",50),`

`,ju(a,l),`

`,(D=l.expected,D.length===1?`Expected:

`+D[0]:`Expected one of the following: 

`+D.join(", ")),`
`].join("");var D}function Wr(a){return a.flags!==void 0?a.flags:[a.global?"g":"",a.ignoreCase?"i":"",a.multiline?"m":"",a.unicode?"u":"",a.sticky?"y":""].join("")}function Ot(){for(var a=[].slice.call(arguments),l=a.length,D=0;D<l;D+=1)X(a[D]);return s(function(h,p){for(var F,y=new Array(l),S=0;S<l;S+=1){if(!(F=k(a[S]._(h,p),F)).status)return F;y[S]=F.value,p=F.index}return k(O(p,y),F)})}function Ae(){var a=[].slice.call(arguments);if(a.length===0)throw new Error("seqMap needs at least one argument");var l=a.pop();return de(l),Ot.apply(null,a).map(function(D){return l.apply(null,D)})}function Tt(){var a=[].slice.call(arguments),l=a.length;if(l===0)return St("zero alternates");for(var D=0;D<l;D+=1)X(a[D]);return s(function(h,p){for(var F,y=0;y<a.length;y+=1)if((F=k(a[y]._(h,p),F)).status)return F;return F})}function Rr(a,l){return er(a,l).or(Ne([]))}function er(a,l){return X(a),X(l),Ae(a,l.then(a).many(),function(D,h){return[D].concat(h)})}function ot(a){Ee(a);var l="'"+a+"'";return s(function(D,h){var p=h+a.length,F=D.slice(h,p);return F===a?O(p,F):N(h,l)})}function Ce(a,l){(function(p){if(!(p instanceof RegExp))throw new Error("not a regexp: "+p);for(var F=Wr(p),y=0;y<F.length;y++){var S=F.charAt(y);if(S!=="i"&&S!=="m"&&S!=="u"&&S!=="s")throw new Error('unsupported regexp flag "'+S+'": '+p)}})(a),arguments.length>=2?ge(l):l=0;var D=function(p){return RegExp("^(?:"+p.source+")",Wr(p))}(a),h=""+a;return s(function(p,F){var y=D.exec(p.slice(F));if(y){if(0<=l&&l<=y.length){var S=y[0],I=y[l];return O(F+S.length,I)}return N(F,"valid match group (0 to "+y.length+") in "+h)}return N(F,h)})}function Ne(a){return s(function(l,D){return O(D,a)})}function St(a){return s(function(l,D){return N(D,a)})}function Bt(a){if(m(a))return s(function(l,D){var h=a._(l,D);return h.index=D,h.value="",h});if(typeof a=="string")return Bt(ot(a));if(a instanceof RegExp)return Bt(Ce(a));throw new Error("not a string, regexp, or parser: "+a)}function $r(a){return X(a),s(function(l,D){var h=a._(l,D),p=l.slice(D,h.index);return h.status?N(D,'not "'+p+'"'):O(D,null)})}function kt(a){return de(a),s(function(l,D){var h=Me(l,D);return D<l.length&&a(h)?O(D+1,h):N(D,"a character/byte matching "+a)})}function Ur(a,l){arguments.length<2&&(l=a,a=void 0);var D=s(function(h,p){return D._=l()._,D._(h,p)});return a?D.desc(a):D}function tr(){return St("fantasy-land/empty")}i.parse=function(a){if(typeof a!="string"&&!V(a))throw new Error(".parse must be called with a string or Buffer as its argument");var l,D=this.skip(rr)._(a,0);return l=D.status?{status:!0,value:D.value}:{status:!1,index:ye(a,D.furthest),expected:D.expected},delete P[a],l},i.tryParse=function(a){var l=this.parse(a);if(l.status)return l.value;var D=Pr(a,l),h=new Error(D);throw h.type="ParsimmonError",h.result=l,h},i.assert=function(a,l){return this.chain(function(D){return a(D)?Ne(D):St(l)})},i.or=function(a){return Tt(this,a)},i.trim=function(a){return this.wrap(a,a)},i.wrap=function(a,l){return Ae(a,this,l,function(D,h){return h})},i.thru=function(a){return a(this)},i.then=function(a){return X(a),Ot(this,a).map(function(l){return l[1]})},i.many=function(){var a=this;return s(function(l,D){for(var h=[],p=void 0;;){if(!(p=k(a._(l,D),p)).status)return k(O(D,h),p);if(D===p.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");D=p.index,h.push(p.value)}})},i.tieWith=function(a){return Ee(a),this.map(function(l){if(function(p){if(!T(p))throw new Error("not an array: "+p)}(l),l.length){Ee(l[0]);for(var D=l[0],h=1;h<l.length;h++)Ee(l[h]),D+=a+l[h];return D}return""})},i.tie=function(){return this.tieWith("")},i.times=function(a,l){var D=this;return arguments.length<2&&(l=a),ge(a),ge(l),s(function(h,p){for(var F=[],y=void 0,S=void 0,I=0;I<a;I+=1){if(S=k(y=D._(h,p),S),!y.status)return S;p=y.index,F.push(y.value)}for(;I<l&&(S=k(y=D._(h,p),S),y.status);I+=1)p=y.index,F.push(y.value);return k(O(p,F),S)})},i.result=function(a){return this.map(function(){return a})},i.atMost=function(a){return this.times(0,a)},i.atLeast=function(a){return Ae(this.times(a),this.many(),function(l,D){return l.concat(D)})},i.map=function(a){de(a);var l=this;return s(function(D,h){var p=l._(D,h);return p.status?k(O(p.index,a(p.value)),p):p})},i.contramap=function(a){de(a);var l=this;return s(function(D,h){var p=l.parse(a(D.slice(h)));return p.status?O(h+D.length,p.value):p})},i.promap=function(a,l){return de(a),de(l),this.contramap(a).map(l)},i.skip=function(a){return Ot(this,a).map(function(l){return l[0]})},i.mark=function(){return Ae(lt,this,lt,function(a,l,D){return{start:a,value:l,end:D}})},i.node=function(a){return Ae(lt,this,lt,function(l,D,h){return{name:a,value:D,start:l,end:h}})},i.sepBy=function(a){return Rr(this,a)},i.sepBy1=function(a){return er(this,a)},i.lookahead=function(a){return this.skip(Bt(a))},i.notFollowedBy=function(a){return this.skip($r(a))},i.desc=function(a){T(a)||(a=[a]);var l=this;return s(function(D,h){var p=l._(D,h);return p.status||(p.expected=a),p})},i.fallback=function(a){return this.or(Ne(a))},i.ap=function(a){return Ae(a,this,function(l,D){return l(D)})},i.chain=function(a){var l=this;return s(function(D,h){var p=l._(D,h);return p.status?k(a(p.value)._(D,p.index),p):p})},i.concat=i.or,i.empty=tr,i.of=Ne,i["fantasy-land/ap"]=i.ap,i["fantasy-land/chain"]=i.chain,i["fantasy-land/concat"]=i.concat,i["fantasy-land/empty"]=i.empty,i["fantasy-land/of"]=i.of,i["fantasy-land/map"]=i.map;var lt=s(function(a,l){return O(l,ye(a,l))}),Pu=s(function(a,l){return l>=a.length?N(l,"any character/byte"):O(l+1,Me(a,l))}),Wu=s(function(a,l){return O(a.length,a.slice(l))}),rr=s(function(a,l){return l<a.length?N(l,"EOF"):O(l,null)}),Ru=Ce(/[0-9]/).desc("a digit"),$u=Ce(/[0-9]*/).desc("optional digits"),Uu=Ce(/[a-z]/i).desc("a letter"),Zu=Ce(/[a-z]*/i).desc("optional letters"),qu=Ce(/\s*/).desc("optional whitespace"),Hu=Ce(/\s+/).desc("whitespace"),Zr=ot("\r"),qr=ot(`
`),Hr=ot(`\r
`),zr=Tt(Hr,qr,Zr).desc("newline"),zu=Tt(zr,rr);s.all=Wu,s.alt=Tt,s.any=Pu,s.cr=Zr,s.createLanguage=function(a){var l={};for(var D in a)({}).hasOwnProperty.call(a,D)&&function(h){l[h]=Ur(function(){return a[h](l)})}(D);return l},s.crlf=Hr,s.custom=function(a){return s(a(O,N))},s.digit=Ru,s.digits=$u,s.empty=tr,s.end=zu,s.eof=rr,s.fail=St,s.formatError=Pr,s.index=lt,s.isParser=m,s.lazy=Ur,s.letter=Uu,s.letters=Zu,s.lf=qr,s.lookahead=Bt,s.makeFailure=N,s.makeSuccess=O,s.newline=zr,s.noneOf=function(a){return kt(function(l){return a.indexOf(l)<0}).desc("none of '"+a+"'")},s.notFollowedBy=$r,s.of=Ne,s.oneOf=function(a){for(var l=a.split(""),D=0;D<l.length;D++)l[D]="'"+l[D]+"'";return kt(function(h){return a.indexOf(h)>=0}).desc(l)},s.optWhitespace=qu,s.Parser=s,s.range=function(a,l){return kt(function(D){return a<=D&&D<=l}).desc(a+"-"+l)},s.regex=Ce,s.regexp=Ce,s.sepBy=Rr,s.sepBy1=er,s.seq=Ot,s.seqMap=Ae,s.seqObj=function(){for(var a,l={},D=0,h=(a=arguments,Array.prototype.slice.call(a)),p=h.length,F=0;F<p;F+=1){var y=h[F];if(!m(y)){if(T(y)&&y.length===2&&typeof y[0]=="string"&&m(y[1])){var S=y[0];if(Object.prototype.hasOwnProperty.call(l,S))throw new Error("seqObj: duplicate key "+S);l[S]=!0,D++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(D===0)throw new Error("seqObj expects at least one named parser, found zero");return s(function(I,G){for(var q,we={},ee=0;ee<p;ee+=1){var xe,We;if(T(h[ee])?(xe=h[ee][0],We=h[ee][1]):(xe=null,We=h[ee]),!(q=k(We._(I,G),q)).status)return q;xe&&(we[xe]=q.value),G=q.index}return k(O(G,we),q)})},s.string=ot,s.succeed=Ne,s.takeWhile=function(a){return de(a),s(function(l,D){for(var h=D;h<l.length&&a(Me(l,h));)h++;return O(h,l.slice(D,h))})},s.test=kt,s.whitespace=Hu,s["fantasy-land/empty"]=tr,s["fantasy-land/of"]=Ne,s.Binary={bitSeq:w,bitSeqObj:function(a){x();var l={},D=0,h=d(function(F){if(T(F)){var y=F;if(y.length!==2)throw new Error("["+y.join(", ")+"] should be length 2, got length "+y.length);if(Ee(y[0]),ge(y[1]),Object.prototype.hasOwnProperty.call(l,y[0]))throw new Error("duplicate key in bitSeqObj: "+y[0]);return l[y[0]]=!0,D++,y}return ge(F),[null,F]},a);if(D<1)throw new Error("bitSeqObj expects at least one named pair, got ["+a.join(", ")+"]");var p=d(function(F){return F[0]},h);return w(d(function(F){return F[1]},h)).map(function(F){return f(function(y,S){return S[0]!==null&&(y[S[0]]=S[1]),y},{},d(function(y,S){return[y,F[S]]},p))})},byte:function(a){if(x(),ge(a),a>255)throw new Error("Value specified to byte constructor ("+a+"=0x"+a.toString(16)+") is larger in value than a single byte.");var l=(a>15?"0x":"0x0")+a.toString(16);return s(function(D,h){var p=Me(D,h);return p===a?O(h+1,p):N(h,l)})},buffer:function(a){return B("buffer",a).map(function(l){return Buffer.from(l)})},encodedString:function(a,l){return B("string",l).map(function(D){return D.toString(a)})},uintBE:$,uint8BE:$(1),uint16BE:$(2),uint32BE:$(4),uintLE:K,uint8LE:K(1),uint16LE:K(2),uint32LE:K(4),intBE:De,int8BE:De(1),int16BE:De(2),int32BE:De(4),intLE:fe,int8LE:fe(1),int16LE:fe(2),int32LE:fe(4),floatBE:B("floatBE",4).map(function(a){return a.readFloatBE(0)}),floatLE:B("floatLE",4).map(function(a){return a.readFloatLE(0)}),doubleBE:B("doubleBE",8).map(function(a){return a.readDoubleBE(0)}),doubleLE:B("doubleLE",8).map(function(a){return a.readDoubleLE(0)})},r.exports=s}])})})(o);var Or=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function Ou(t){return t==null?t:t.shiftToAll().normalize()}function Tu(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}o.exports.alt(o.exports.regex(new RegExp(Or(),"")),o.exports.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),o.exports.whitespace.map(t=>"-"),o.exports.any.map(t=>"")).many().map(t=>t.join(""));var Qi=o.exports.alt(o.exports.regex(new RegExp(Or(),"")),o.exports.regex(/[0-9\p{Letter}_-]+/u),o.exports.whitespace.map(t=>" "),o.exports.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function Ki(t){return Qi.tryParse(t)}function Xi(t){return t=Ou(t),t=E.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e>0))),t.toHuman()}var Ct;(function(t){function e(m,T=br,V=!1){let O=r(m);if(!O)return T.renderNullAs;switch(O.type){case"null":return T.renderNullAs;case"string":return O.value;case"number":case"boolean":return""+O.value;case"html":return O.value.outerHTML;case"widget":return O.value.markdown();case"link":return O.value.markdown();case"function":return"<function>";case"array":let N="";return V&&(N+="["),N+=O.value.map(k=>e(k,T,!0)).join(", "),V&&(N+="]"),N;case"object":return"{ "+Object.entries(O.value).map(k=>k[0]+": "+e(k[1],T,!0)).join(", ")+" }";case"date":return O.value.second==0&&O.value.hour==0&&O.value.minute==0?O.value.toFormat(T.defaultDateFormat):O.value.toFormat(T.defaultDateTimeFormat);case"duration":return Xi(O.value)}}t.toString=e;function r(m){return x(m)?{type:"null",value:m}:d(m)?{type:"number",value:m}:f(m)?{type:"string",value:m}:B(m)?{type:"boolean",value:m}:b(m)?{type:"duration",value:m}:C(m)?{type:"date",value:m}:$(m)?{type:"widget",value:m}:w(m)?{type:"array",value:m}:R(m)?{type:"link",value:m}:fe(m)?{type:"function",value:m}:K(m)?{type:"html",value:m}:De(m)?{type:"object",value:m}:void 0}t.wrapValue=r;function n(m,T){if(De(m)){let V={};for(let[O,N]of Object.entries(m))V[O]=n(N,T);return V}else if(w(m)){let V=[];for(let O of m)V.push(n(O,T));return V}else return T(m)}t.mapLeaves=n;function u(m,T,V){var O,N;if(m===void 0&&(m=null),T===void 0&&(T=null),m===null&&T===null)return 0;if(m===null)return-1;if(T===null)return 1;let k=r(m),P=r(T);if(k===void 0&&P===void 0)return 0;if(k===void 0)return-1;if(P===void 0)return 1;if(k.type!=P.type)return k.type.localeCompare(P.type);if(k.value===P.value)return 0;switch(k.type){case"string":return k.value.localeCompare(P.value);case"number":return k.value<P.value?-1:k.value==P.value?0:1;case"null":return 0;case"boolean":return k.value==P.value?0:k.value?1:-1;case"link":let ye=k.value,X=P.value,Me=V??(Q=>Q),ge=Me(ye.path).localeCompare(Me(X.path));if(ge!=0)return ge;let de=ye.type.localeCompare(X.type);return de!=0?de:ye.subpath&&!X.subpath?1:!ye.subpath&&X.subpath?-1:!ye.subpath&&!X.subpath?0:((O=ye.subpath)!==null&&O!==void 0?O:"").localeCompare((N=X.subpath)!==null&&N!==void 0?N:"");case"date":return k.value<P.value?-1:k.value.equals(P.value)?0:1;case"duration":return k.value<P.value?-1:k.value.equals(P.value)?0:1;case"array":let Ee=k.value,st=P.value;for(let Q=0;Q<Math.min(Ee.length,st.length);Q++){let he=u(Ee[Q],st[Q]);if(he!=0)return he}return Ee.length-st.length;case"object":let vt=k.value,ie=P.value,it=Array.from(Object.keys(vt)),bt=Array.from(Object.keys(ie));it.sort(),bt.sort();let at=u(it,bt);if(at!=0)return at;for(let Q of it){let he=u(vt[Q],ie[Q]);if(he!=0)return he}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=u;function s(m){var T;return(T=r(m))===null||T===void 0?void 0:T.type}t.typeOf=s;function i(m){let T=r(m);if(!T)return!1;switch(T.type){case"number":return T.value!=0;case"string":return T.value.length>0;case"boolean":return T.value;case"link":return!!T.value.path;case"date":return T.value.toMillis()!=0;case"duration":return T.value.as("seconds")!=0;case"object":return Object.keys(T.value).length>0;case"array":return T.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=i;function c(m){if(m==null)return m;if(t.isArray(m))return[].concat(m.map(T=>c(T)));if(t.isObject(m)){let T={};for(let[V,O]of Object.entries(m))T[V]=c(O);return T}else return m}t.deepCopy=c;function f(m){return typeof m=="string"}t.isString=f;function d(m){return typeof m=="number"}t.isNumber=d;function C(m){return m instanceof v}t.isDate=C;function b(m){return m instanceof E}t.isDuration=b;function x(m){return m==null}t.isNull=x;function w(m){return Array.isArray(m)}t.isArray=w;function B(m){return typeof m=="boolean"}t.isBoolean=B;function R(m){return m instanceof z}t.isLink=R;function $(m){return m instanceof Yt}t.isWidget=$;function K(m){return typeof HTMLElement!="undefined"?m instanceof HTMLElement:!1}t.isHtml=K;function De(m){return typeof m=="object"&&!K(m)&&!$(m)&&!w(m)&&!b(m)&&!C(m)&&!R(m)&&m!==void 0&&!x(m)}t.isObject=De;function fe(m){return typeof m=="function"}t.isFunction=fe})(Ct||(Ct={}));var Su;(function(t){function e(u){return Ct.isObject(u)&&Object.keys(u).length==2&&"key"in u&&"rows"in u}t.isElementGroup=e;function r(u){for(let s of u)if(!e(s))return!1;return!0}t.isGrouping=r;function n(u){if(r(u)){let s=0;for(let i of u)s+=n(i.rows);return s}else return u.length}t.count=n})(Su||(Su={}));var z=class{constructor(e){Object.assign(this,e)}static file(e,r=!1,n){return new z({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let u=e.split("#^");return z.block(u[0],u[1],r,n)}else if(e.includes("#")){let u=e.split("#");return z.header(u[0],u[1],r,n)}else return z.file(e,r,n)}static header(e,r,n,u){return new z({path:e,embed:n,display:u,subpath:Ki(r),type:"header"})}static block(e,r,n,u){return new z({path:e,embed:n,display:u,subpath:r,type:"block"})}static fromObject(e){return new z(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new z(Object.assign({},this,{path:e}))}withDisplay(e){return new z(Object.assign({},this,{display:e}))}withHeader(e){return z.header(this.path,e,this.embed,this.display)}toFile(){return z.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new z(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new z(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+Tu(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,r;let n=this.path.replace("|","\\|");return this.type=="header"?n+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?n+"#^"+((r=this.subpath)===null||r===void 0?void 0:r.replace("|","\\|")):n}fileName(){return Tu(this.path).replace(".md","")}},Yt=class{constructor(e){this.$widget=e}},Bu=class extends Yt{constructor(e,r){super("dataview:list-pair");this.key=e,this.value=r}markdown(){return`${Ct.toString(this.key)}: ${Ct.toString(this.value)}`}},ku=class extends Yt{constructor(e,r){super("dataview:external-link");this.url=e,this.display=r}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},Mu;(function(t){function e(i,c){return new Bu(i,c)}t.listPair=e;function r(i,c){return new ku(i,c)}t.externalLink=r;function n(i){return i.$widget==="dataview:list-pair"}t.isListPair=n;function u(i){return i.$widget==="dataview:external-link"}t.isExternalLink=u;function s(i){return n(i)||u(i)}t.isBuiltin=s})(Mu||(Mu={}));var j;(function(t){function e(x){return{type:"variable",name:x}}t.variable=e;function r(x){return{type:"literal",value:x}}t.literal=r;function n(x,w,B){return{type:"binaryop",left:x,op:w,right:B}}t.binaryOp=n;function u(x,w){return{type:"index",object:x,index:w}}t.index=u;function s(x){let w=x.split("."),B=t.variable(w[0]);for(let R=1;R<w.length;R++)B=t.index(B,t.literal(w[R]));return B}t.indexVariable=s;function i(x,w){return{type:"lambda",arguments:x,value:w}}t.lambda=i;function c(x,w){return{type:"function",func:x,arguments:w}}t.func=c;function f(x){return{type:"list",values:x}}t.list=f;function d(x){return{type:"object",values:x}}t.object=d;function C(x){return{type:"negated",child:x}}t.negate=C;function b(x){return x=="<="||x=="<"||x==">"||x==">="||x=="!="||x=="="}t.isCompareOp=b,t.NULL=t.literal(null)})(j||(j={}));var pe;(function(t){function e(C){return{type:"tag",tag:C}}t.tag=e;function r(C){return{type:"csv",path:C}}t.csv=r;function n(C){return{type:"folder",folder:C}}t.folder=n;function u(C,b){return{type:"link",file:C,direction:b?"incoming":"outgoing"}}t.link=u;function s(C,b,x){return{type:"binaryop",left:C,op:b,right:x}}t.binaryOp=s;function i(C,b){return{type:"binaryop",left:C,op:"&",right:b}}t.and=i;function c(C,b){return{type:"binaryop",left:C,op:"|",right:b}}t.or=c;function f(C){return{type:"negate",child:C}}t.negate=f;function d(){return{type:"empty"}}t.empty=d})(pe||(pe={}));var Au=new RegExp(Or(),""),Tr={year:E.fromObject({years:1}),years:E.fromObject({years:1}),yr:E.fromObject({years:1}),yrs:E.fromObject({years:1}),month:E.fromObject({months:1}),months:E.fromObject({months:1}),mo:E.fromObject({months:1}),mos:E.fromObject({months:1}),week:E.fromObject({weeks:1}),weeks:E.fromObject({weeks:1}),wk:E.fromObject({weeks:1}),wks:E.fromObject({weeks:1}),w:E.fromObject({weeks:1}),day:E.fromObject({days:1}),days:E.fromObject({days:1}),d:E.fromObject({days:1}),hour:E.fromObject({hours:1}),hours:E.fromObject({hours:1}),hr:E.fromObject({hours:1}),hrs:E.fromObject({hours:1}),h:E.fromObject({hours:1}),minute:E.fromObject({minutes:1}),minutes:E.fromObject({minutes:1}),min:E.fromObject({minutes:1}),mins:E.fromObject({minutes:1}),m:E.fromObject({minutes:1}),second:E.fromObject({seconds:1}),seconds:E.fromObject({seconds:1}),sec:E.fromObject({seconds:1}),secs:E.fromObject({seconds:1}),s:E.fromObject({seconds:1})},Sr={now:()=>v.local(),today:()=>v.local().startOf("day"),yesterday:()=>v.local().startOf("day").minus(E.fromObject({days:1})),tomorrow:()=>v.local().startOf("day").plus(E.fromObject({days:1})),sow:()=>v.local().startOf("week"),"start-of-week":()=>v.local().startOf("week"),eow:()=>v.local().endOf("week"),"end-of-week":()=>v.local().endOf("week"),soy:()=>v.local().startOf("year"),"start-of-year":()=>v.local().startOf("year"),eoy:()=>v.local().endOf("year"),"end-of-year":()=>v.local().endOf("year"),som:()=>v.local().startOf("month"),"start-of-month":()=>v.local().startOf("month"),eom:()=>v.local().endOf("month"),"end-of-month":()=>v.local().endOf("month")},Br=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function ea(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function ta(t){let[e,r]=ea(t);return z.infer(e,!1,r)}function wt(t,e,r){return o.exports.seqMap(t,o.exports.seq(o.exports.optWhitespace,e,o.exports.optWhitespace,t).many(),(n,u)=>{if(u.length==0)return n;let s=r(n,u[0][1],u[0][3]);for(let i=1;i<u.length;i++)s=r(s,u[i][1],u[i][3]);return s})}function ra(t,...e){return o.exports.custom((r,n)=>(u,s)=>{let i=t._(u,s);if(!i.status)return i;for(let c of e){let f=c(i.value)._(u,i.index);if(!f.status)return i;i=f}return i})}var ce=o.exports.createLanguage({number:t=>o.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>o.exports.string('"').then(o.exports.alt(t.escapeCharacter,o.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(o.exports.string('"')).desc("string"),escapeCharacter:t=>o.exports.string("\\").then(o.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>o.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>o.exports.seqMap(o.exports.string("#"),o.exports.alt(o.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>o.exports.seqMap(o.exports.alt(o.exports.regexp(/\p{Letter}/u),o.exports.regexp(Au).desc("text")),o.exports.alt(o.exports.regexp(/[0-9\p{Letter}_-]/u),o.exports.regexp(Au).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>o.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>ta(e)).desc("file link"),embedLink:t=>o.exports.seqMap(o.exports.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>o.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>o.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>o.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>o.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>o.exports.seqMap(o.exports.regexp(/\d{4}/),o.exports.string("-"),o.exports.regexp(/\d{2}/),(e,r,n)=>v.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>o.exports.alt(...Object.keys(Sr).sort((e,r)=>r.length-e.length).map(o.exports.string)),date:t=>ra(t.rootDate,e=>o.exports.seqMap(o.exports.string("-"),o.exports.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>o.exports.seqMap(o.exports.string("T"),o.exports.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>o.exports.seqMap(o.exports.string(":"),o.exports.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>o.exports.seqMap(o.exports.string(":"),o.exports.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>o.exports.alt(o.exports.seqMap(o.exports.string("."),o.exports.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),o.exports.succeed(e)),e=>o.exports.alt(o.exports.seqMap(o.exports.string("+").or(o.exports.string("-")),o.exports.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),o.exports.seqMap(o.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),o.exports.seqMap(o.exports.string("["),o.exports.regexp(/[0-9A-Za-z+-\/]+/u),o.exports.string("]"),(r,n,u)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>o.exports.alt(t.dateShorthand.map(e=>Sr[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>o.exports.alt(...Object.keys(Tr).sort((e,r)=>r.length-e.length).map(o.exports.string)),duration:t=>o.exports.seqMap(t.number,o.exports.optWhitespace,t.durationType,(e,r,n)=>Tr[n].mapUnits(u=>u*e)).sepBy1(o.exports.string(",").trim(o.exports.optWhitespace).or(o.exports.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>o.exports.string("null"),tagSource:t=>t.tag.map(e=>pe.tag(e)),csvSource:t=>o.exports.seqMap(o.exports.string("csv(").skip(o.exports.optWhitespace),t.string,o.exports.string(")"),(e,r,n)=>pe.csv(r)),linkIncomingSource:t=>t.link.map(e=>pe.link(e.path,!0)),linkOutgoingSource:t=>o.exports.seqMap(o.exports.string("outgoing(").skip(o.exports.optWhitespace),t.link,o.exports.string(")"),(e,r,n)=>pe.link(r.path,!1)),folderSource:t=>t.string.map(e=>pe.folder(e)),parensSource:t=>o.exports.seqMap(o.exports.string("("),o.exports.optWhitespace,t.source,o.exports.optWhitespace,o.exports.string(")"),(e,r,n,u,s)=>n),negateSource:t=>o.exports.seqMap(o.exports.alt(o.exports.string("-"),o.exports.string("!")),t.atomSource,(e,r)=>pe.negate(r)),atomSource:t=>o.exports.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>wt(t.atomSource,t.binaryBooleanOp.map(e=>e),pe.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>Br.includes(e.toUpperCase())?o.exports.fail("Variable fields cannot be a keyword ("+Br.join(" or ")+")"):o.exports.succeed(j.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>j.literal(e)).desc("number"),stringField:t=>t.string.map(e=>j.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>j.literal(e)).desc("boolean"),dateField:t=>o.exports.seqMap(o.exports.string("date("),o.exports.optWhitespace,t.datePlus,o.exports.optWhitespace,o.exports.string(")"),(e,r,n,u,s)=>j.literal(n)).desc("date"),durationField:t=>o.exports.seqMap(o.exports.string("dur("),o.exports.optWhitespace,t.duration,o.exports.optWhitespace,o.exports.string(")"),(e,r,n,u,s)=>j.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>j.NULL),linkField:t=>t.link.map(e=>j.literal(e)),listField:t=>t.field.sepBy(o.exports.string(",").trim(o.exports.optWhitespace)).wrap(o.exports.string("[").skip(o.exports.optWhitespace),o.exports.optWhitespace.then(o.exports.string("]"))).map(e=>j.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>o.exports.seqMap(t.identifier.or(t.string),o.exports.string(":").trim(o.exports.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(o.exports.string(",").trim(o.exports.optWhitespace)).wrap(o.exports.string("{").skip(o.exports.optWhitespace),o.exports.optWhitespace.then(o.exports.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return j.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>o.exports.alt(t.date,t.duration.map(e=>Ou(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(o.exports.string(",").trim(o.exports.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>o.exports.alt(o.exports.seqMap(t.atomInlineField,o.exports.string(",").trim(o.exports.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>o.exports.alt(t.embedLink.map(e=>j.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>o.exports.seqMap(t.atomField,o.exports.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let u of r)switch(u.type){case"dot":n=j.index(n,j.literal(u.field));break;case"index":n=j.index(n,u.field);break;case"function":n=j.func(n,u.fields);break}return n}),negatedField:t=>o.exports.seqMap(o.exports.string("!"),t.indexField,(e,r)=>j.negate(r)).desc("negated field"),parensField:t=>o.exports.seqMap(o.exports.string("("),o.exports.optWhitespace,t.field,o.exports.optWhitespace,o.exports.string(")"),(e,r,n,u,s)=>n),lambdaField:t=>o.exports.seqMap(t.identifier.sepBy(o.exports.string(",").trim(o.exports.optWhitespace)).wrap(o.exports.string("(").trim(o.exports.optWhitespace),o.exports.string(")").trim(o.exports.optWhitespace)),o.exports.string("=>").trim(o.exports.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>o.exports.seqMap(o.exports.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>o.exports.seqMap(o.exports.string("["),o.exports.optWhitespace,t.field,o.exports.optWhitespace,o.exports.string("]"),(e,r,n,u,s)=>({type:"index",field:n})),functionPostfix:t=>o.exports.seqMap(o.exports.string("("),o.exports.optWhitespace,t.field.sepBy(o.exports.string(",").trim(o.exports.optWhitespace)),o.exports.optWhitespace,o.exports.string(")"),(e,r,n,u,s)=>({type:"function",fields:n})),binaryMulDivField:t=>wt(t.indexField,t.binaryMulDiv,j.binaryOp),binaryPlusMinusField:t=>wt(t.binaryMulDivField,t.binaryPlusMinus,j.binaryOp),binaryCompareField:t=>wt(t.binaryPlusMinusField,t.binaryCompareOp,j.binaryOp),binaryBooleanField:t=>wt(t.binaryCompareField,t.binaryBooleanOp,j.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function na(t){try{return zt.success(ce.field.tryParse(t))}catch(e){return zt.failure(""+e)}}var Gt;(function(t){function e(n,u){return{name:n,field:u}}t.named=e;function r(n,u){return{field:n,direction:u}}t.sortBy=r})(Gt||(Gt={}));function ua(t){return o.exports.custom((e,r)=>(n,u)=>{let s=t._(n,u);return s.status?Object.assign({},s,{value:[s.value,n.substring(u,s.index)]}):s})}function sa(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}var ia=o.exports.createLanguage({queryType:t=>o.exports.alt(o.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>o.exports.seqMap(ce.field.skip(o.exports.whitespace),o.exports.regexp(/AS/i).skip(o.exports.whitespace),ce.identifier.or(ce.string),(e,r,n)=>Gt.named(n,e)),namedField:t=>o.exports.alt(t.explicitNamedField,ua(ce.field).map(([e,r])=>Gt.named(sa(r),e))),sortField:t=>o.exports.seqMap(ce.field.skip(o.exports.optWhitespace),o.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.skip(o.exports.whitespace).chain(e=>{switch(e){case"table":return o.exports.seqMap(o.exports.regexp(/WITHOUT\s+ID/i).skip(o.exports.optWhitespace).atMost(1),o.exports.sepBy(t.namedField,o.exports.string(",").trim(o.exports.optWhitespace)),(r,n)=>({type:"table",fields:n,showId:r.length==0}));case"list":return o.exports.seqMap(o.exports.regexp(/WITHOUT\s+ID/i).skip(o.exports.optWhitespace).atMost(1),ce.field.atMost(1),(r,n)=>({type:"list",format:n.length==1?n[0]:void 0,showId:r.length==0}));case"task":return o.exports.succeed({type:"task"});case"calendar":return o.exports.seqMap(t.namedField,r=>({type:"calendar",showId:!0,field:r}));default:return o.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>o.exports.seqMap(o.exports.regexp(/FROM/i),o.exports.whitespace,ce.source,(e,r,n)=>n),whereClause:t=>o.exports.seqMap(o.exports.regexp(/WHERE/i),o.exports.whitespace,ce.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>o.exports.seqMap(o.exports.regexp(/SORT/i),o.exports.whitespace,t.sortField.sepBy1(o.exports.string(",").trim(o.exports.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>o.exports.seqMap(o.exports.regexp(/LIMIT/i),o.exports.whitespace,ce.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>o.exports.seqMap(o.exports.regexp(/FLATTEN/i).skip(o.exports.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>o.exports.seqMap(o.exports.regexp(/GROUP BY/i).skip(o.exports.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>o.exports.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>o.exports.seqMap(t.headerClause.trim(o.exports.optWhitespace),t.fromClause.trim(o.exports.optWhitespace).atMost(1),t.clause.trim(o.exports.optWhitespace).many(),(e,r,n)=>({header:e,source:r.length==0?pe.folder(""):r[0],operations:n,settings:br}))}),aa=t=>{var e;return t?(e=t.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},oa=t=>t.plugins.enabledPlugins.has("dataview");Fe.DATE_SHORTHANDS=Sr;Fe.DURATION_TYPES=Tr;Fe.EXPRESSION=ce;Fe.KEYWORDS=Br;Fe.QUERY_LANGUAGE=ia;Fe.getAPI=aa;Fe.isPluginEnabled=oa;Fe.parseField=na});ts(exports,{default:()=>Vr});var Xt=Le(require("obsidian"));var J=Le(require("fs")),ke=Le(require("obsidian")),Jt=Le(require("path"));var kr=Le(require("obsidian")),Iu=Le(Nu()),xt,Lu;async function Mr(t,e){xt=t,Lu=e;let r=xt.vault.getMarkdownFiles();for(let n of r)await la(n);console.log(new kr.Notice("shadow\u5B8C\u6210"))}async function la(t){let r=xt.metadataCache.getCache(t.path).frontmatter;if(r!=null&&r.shadow===!0){let n=await ca(t),u=t?.path,s="../"+Lu+u;await xt.vault.adapter.write(s,n)}}async function ca(t){let r=await xt.vault.cachedRead(t);return r=await Da(r,t.path),r}async function Da(t,e){let r=t,n=/```dataview(.+?)```/gsm,u=(0,Iu.getAPI)(),s=t.matchAll(n);if(s===null)return"no DataView";for(let i of s)try{let c=i[0],f=i[1],d=await u.tryQueryMarkdown(f,e),C=/\[\[[^\|]+\|/gsm,b=d.matchAll(C);for(let x of b)d=d.replace(x[0],"[[");r=r.replace(c,d)}catch(c){return console.log(new kr.Notice("Unable to render dataview query.")),console.log(c),i[0]}return r}function _u(t,e,r,n){nt=t+e,Nr=t+r,rt=[],Pe=[],tt=[],Ar=n,Ir=e,console.log(new ke.Notice("\u5F00\u59CBshadow")),Lr(nt)}var Vu=class{constructor(e,r,n){this.src=e,this.tar=r,this.filter=n}},Ar,tt=[],rt=[],Pe=[],nt,Nr,Ir;function Lr(t){J.readdir(t,(e,r)=>{if(e!=null)throw e;let n=r.length;n===0?rt.length===0?(console.log(new ke.Notice("\u65E7\u6587\u4EF6\u6E05\u7406\u5B8C\u6210")),Qt(nt)):Lr(rt.pop()):r.forEach(u=>{let s=`${t}/${u}`;J.stat(s,(i,c)=>{if(i!=null)throw i;c.isDirectory()?rt.push(s):J.unlink(s,f=>{if(f!=null)throw f}),n--,n===0&&(rt.length===0?(console.log(new ke.Notice("\u65E7\u6587\u4EF6\u6E05\u7406\u5B8C\u6210")),Qt(nt)):Lr(rt.pop()))})})})}function Qt(t){J.readdir(t,(e,r)=>{if(e!=null)throw e;r.length>0?(r.forEach(u=>{Pe.push(`${t}/${u}`)}),Qt(Pe.last())):Pe.length===0?(console.log(new ke.Notice("\u7ED3\u6784\u6E05\u7406\u5B8C\u6210")),Kt(Nr,nt,[])):J.rmdir(t,()=>{Pe.pop(),Pe.length===0?(console.log(new ke.Notice("\u7ED3\u6784\u6E05\u7406\u5B8C\u6210")),Kt(Nr,nt,[])):Qt(Pe.last())})})}function Kt(t,e,r=[]){J.readdir(t,(n,u)=>{if(n!=null)throw n;let s=u.length;if(s===0)if(tt.length===0)console.log(new ke.Notice("\u514B\u9686\u5B8C\u6210")),Mr(Ar,Ir).catch(i=>{console.log(i)});else{let i=tt.pop(),c=i?.src,f=i?.tar,d=i?.filter;Kt(c,f,d)}else u.forEach(i=>{let c=Jt.join(t,i);r.some(d=>d===i)||J.stat(c,(d,C)=>{if(d!=null)throw d;if(C.isFile()){let b=Jt.join(e,i);J.copyFile(c,b,()=>{})}else{let b=Jt.join(e,i);J.mkdir(b,()=>{}),tt.push(new Vu(c,b,r))}if(s--,s===0)if(tt.length===0)console.log(new ke.Notice("\u514B\u9686\u5B8C\u6210")),Mr(Ar,Ir).catch(b=>{console.log(b)});else{let b=tt.pop(),x=b?.src,w=b?.tar,B=b?.filter;Kt(x,w,B)}})})})}var ut=Le(require("obsidian")),_r=class extends ut.PluginSettingTab{constructor(e,r){super(e,r);this.plugin=r}display(){let e=this.plugin.config,{containerEl:r}=this;r.empty(),new ut.Setting(r).setName("\u4E0A\u7EA7\u8DEF\u5F84").addText(n=>{n.setPlaceholder("D:/vault/").setValue(e.vaultPath).onChange(async u=>{e.vaultPath=u,await this.plugin.saveSettings()})}),new ut.Setting(r).setName("\u5F53\u524D\u6587\u4EF6\u5939").addText(n=>{n.setPlaceholder("note/").setValue(e.notePath).onChange(async u=>{e.notePath=u,await this.plugin.saveSettings()})}),new ut.Setting(r).setName("\u76EE\u6807\u6587\u4EF6\u5939").addText(n=>{n.setPlaceholder("content/").setValue(e.blogPath).onChange(async u=>{e.blogPath=u,await this.plugin.saveSettings()})})}};var Vr=class extends Xt.Plugin{async onload(){console.log("Loading ShadowPage plugin."),await this.loadSettings(),this.addSettingTab(new _r(this.app,this)),this.addCommand({id:"shadow-page",name:"shadow page",callback:()=>{this.config.vaultPath===""||this.config.notePath===""||this.config.blogPath===""?console.log(new Xt.Notice("\u53C2\u6570\u672A\u521D\u59CB\u5316")):_u(this.config.vaultPath,this.config.blogPath,this.config.notePath,this.app)},hotkeys:[]})}onunload(){console.log("Unloading ShadowPage plugin")}async loadSettings(){this.config=Object.assign({},fa,await this.loadData())}async saveSettings(){await this.saveData(this.config)}},fa={vaultPath:"",notePath:"",blogPath:""};0&&(module.exports={});
